<div class="list-container">
    @if (isLoading) {
        <p>Cargando personas...</p>
    } @else if (error) {
        <div class="error-message">{{ error }}</div>
    } @else if (personas.length > 0) {
        @for (persona of personas; track persona.id) {
            <app-persona-list-item
                [persona]="persona"
                (view)="onVerPersona($event)"
                (edit)="onEditarPersona($event)"
                (delete)="onBorrarPersona($event)">
            </app-persona-list-item>
        }
    } @else {
        <p>No se encontraron personas.</p>
    }

    <!-- Modal de detalle -->
    <app-persona-detail-modal
        [persona]="personaSeleccionada"
        [isVisible]="modalVisible"
        (closeModal)="cerrarModal()"
        (edit)="onEditarDesdeModal($event)"
        (delete)="onBorrarDesdeModal($event)">
    </app-persona-detail-modal>

    <!-- Modal de ediciÃ³n -->
    <app-persona-edit-modal
        [persona]="personaSeleccionada"
        [isVisible]="editModalVisible"
        (closeModal)="cerrarEditModal()"
        (personaUpdated)="onPersonaActualizada()">
    </app-persona-edit-modal>
</div>
